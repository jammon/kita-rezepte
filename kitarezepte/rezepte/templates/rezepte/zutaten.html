{% extends "base.html" %}
{% load static %}
{% block content %}
  <div class="row">
    <div class="col">
      <h1>Zutaten</h1>
      <table class="table">
        <tr>
          <th>Name</th>
          <th class="text-right">Preis</th>
          <th class="text-right">Menge</th>
          <th>Kategorie</th>
          <th>Verwendung</th>
        </tr>
      {% for z in zutaten  %}
        <tr>
          <td>{{ z.name }}</td>
          <td class="text-right">{{ z.preisInEuro }} &euro;</td>
          <td class="text-right">{{ z.menge_pro_einheit }} {{ z.masseinheit }} </td>
          <td>{{ z.kategorie }} </td>
          <td>
            {% if z.rezepte__count %}
              {{ z.rezepte__count }} Rezept{{ z.rezepte__count|pluralize:"e" }}
            {% else %}
              kein Rezept
            {% endif %}
          </td>
          <td>
            {% if user.is_authenticated %}
              <a class="btn btn-primary btn-sm" href="{{ z.id }}" role="button">
                Bearbeiten</a>
              {% if not z.rezepte__count %}
                <form action="delete" method="post">{% csrf_token %}
                  <input type="hidden" name="zutat_id" value="{{ z.id }}">
                  <button class="btn btn-primary btn-sm">LÃ¶schen</button>
                </form>
              {% endif %}
            {% endif %}
          </td>
        </tr>
      {% empty %}
        <tr>
          <td>Es sind noch keine Zutaten eingegeben.</td>
        </tr>
      {% endfor %}
      </table>
    </div>
    
  </div>
{% endblock content %}
